"use strict";const{app:n,BrowserWindow:i}=require("electron"),o=require("path");function t(){const e=new i({width:1600,height:900,webPreferences:{webSecurity:!1,allowFileAccess:!0,preload:o.join(__dirname,"preload.js")}});process.env.NODE_ENV==="development"?(console.log("Loading Vite development server..."),e.loadURL("http://localhost:5173"),e.webContents.openDevTools()):e.loadFile(o.join(__dirname,"../.vite/build/renderer/index.html"))}n.whenReady().then(t);n.on("window-all-closed",()=>{process.platform!=="darwin"&&n.quit()});n.on("activate",()=>{i.getAllWindows().length===0&&t()});ipcMain.handle("login",async(e,{email:r,password:s})=>(await fetch("https://nideriji.cn/api/login/",{method:"POST",headers:{"Content-Type":"application/json","User-Agent":"OhApp/3.6.12 Platform/Android"},body:JSON.stringify({email:r,password:s})})).json());
