"use strict";const{app:i,BrowserWindow:r,ipcMain:s}=require("electron"),n=require("path");function a(){const e=new r({width:1600,height:900,webPreferences:{webSecurity:!1,allowFileAccess:!0,preload:n.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0}});l(),process.env.NODE_ENV==="development"?(console.log("Loading Vite development server..."),e.loadURL("http://localhost:5173/#/login"),e.webContents.openDevTools()):e.loadFile(n.join(__dirname,"../.vite/build/renderer/index.html"),{hash:"/login"})}function l(){s.handle("login",async(e,{email:o,password:t})=>(await fetch("https://nideriji.cn/api/login/",{method:"POST",headers:{"Content-Type":"application/json","User-Agent":"OhApp/3.6.12 Platform/Android"},body:JSON.stringify({email:o,password:t})})).json())}i.whenReady().then(a);
